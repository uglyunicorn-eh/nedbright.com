---
import type { Collections } from "src/content";

import { GridPattern } from "src/components/react";

interface Props {
  book: {slug: string, entry: Collections["books"]};
}

const { book } = Astro.props;
---

<header class="relative z-10 overflow-hidden lg:bg-transparent">
  <div
    class="mx-auto grid max-w-6xl grid-cols-1 grid-rows-[auto_1fr] gap-y-16 pt-16 md:pt-20 lg:grid-cols-12 lg:gap-y-20 lg:px-3 lg:pb-16 lg:pt-20"
  >
    <div class="relative flex items-start lg:col-span-5 lg:row-span-2">
      <div
        class="rounded-br-6xl absolute z-10 mb-24 overflow-hidden rounded-br-3xl bg-blob-2 text-white/15 md:bottom-8 lg:-inset-y-32 lg:left-[-100vw] lg:right-full lg:-mr-40"
      >
        <GridPattern />
      </div>

      <div
        class="relative z-10 mx-auto flex aspect-[3/4] w-64 rounded-xl shadow-2xl shadow-black/15 md:w-80 lg:w-96"
      >
        <img
          class="h-full w-full rounded-xl object-cover"
          src={book.entry.image}
          alt={book.entry.title || ""}
        />
      </div>
    </div>

    <div class="lg:col-span-7 lg:bg-transparent lg:pl-16 lg:pt-0 xl:pl-20">
      <div
        class="mx-auto text-balance px-10 tracking-tight md:mt-14 md:max-w-2xl md:px-6 lg:pl-0 lg:pr-10"
      >
        <h1 class="my-h1">
          {book.entry.title}
        </h1>

        {
          book.entry.headline && (
            <p class="mb-6 text-pretty text-lg">{book.entry.headline}</p>
          )
        }

        {
          book.entry.link && (
            <div class="my-12 flex gap-4">
              <a
                href={book.entry.link}
                target="_blank"
                class="my-primary-button-lg"
              >
                Загрузить книгу
              </a>
            </div>
          )
        }
      </div>
    </div>
  </div>
</header>
